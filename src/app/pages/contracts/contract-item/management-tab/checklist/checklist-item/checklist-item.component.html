<div class="row">
  <div class="col-3">
    <input
      nbInput
      [(ngModel)]="checklistItem.name"
      (click)="openItemDialog()"
      #nameInput="ngModel"
      fullWidth
      fieldSize="large"
      [required]="validation.checklist.name"
      [status]="
        nameInput.dirty ? (nameInput.invalid ? 'danger' : 'success') : 'basic'
      "
      [attr.aria-invalid]="nameInput.invalid && nameInput.touched ? true : null"
    />
  </div>
  <div class="col-3">
    <input
      nbInput
      [(ngModel)]="itemRange"
      #rangeInput="ngModel"
      fullWidth
      fieldSize="large"
      [required]="validation.checklist.startDate"
      [nbDatepicker]="rangePicker"
      [status]="
        rangeInput.dirty ? (rangeInput.invalid ? 'danger' : 'success') : 'basic'
      "
      [attr.aria-invalid]="
        rangeInput.invalid && rangeInput.touched ? true : null
      "
    />
    <nb-rangepicker #rangePicker [min]="yesterday"></nb-rangepicker>
  </div>
  <div class="col-3">
    <input
      nbInput
      [ngModel]="this.userService.idToName(checklistItem.responsible)"
      #responsible="ngModel"
      fullWidth
      fieldSize="large"
      [readonly]="true"
    />
  </div>
  <div class="col-2">
    <nb-select
      [(ngModel)]="checklistItem.status"
      (selectedChange)="onSelectedChange($event)"
      #statusInput="ngModel"
      fullWidth
      size="large"
      [required]="validation.checklist.status"
      [status]="
        statusInput.dirty
          ? statusInput.invalid
            ? 'danger'
            : 'success'
          : 'basic'
      "
      [attr.aria-invalid]="
        statusInput.invalid && statusInput.touched ? true : null
      "
    >
      <nb-option *ngFor="let status of avaliableActionStatus" [value]="status">
        {{ status }}
      </nb-option>
    </nb-select>
  </div>
  <div class="col-1 trash-icon-container">
    <nb-icon
      class="xIcon"
      status="danger"
      icon="trash-2-outline"
      pack="eva"
      (click)="removeItem()"
      [options]="{ animation: { type: 'shake' } }"
    ></nb-icon>
  </div>
</div>
<div class="row no-gutters">
  <div class="col-12 mt-3">
    <nb-progress-bar
      [status]="getPercentualItemProgress() == 100 ? 'success' : 'primary'"
      [size]="'tiny'"
      [displayValue]="true"
      [value]="getPercentualItemProgress()"
    ></nb-progress-bar>
  </div>
</div>
