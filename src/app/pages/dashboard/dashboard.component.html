<nb-tabset class="dashboard" (changeTab)="setActiveTab($event)">
  <nb-tab [tabTitle]="isPhone() ? '' : tabTitles.PESSOAL" tabIcon="person" responsive>
    <div class="row">
      <div class="col-12 col-md-6">
        <div class="col-12"><ngx-progress-section></ngx-progress-section></div>
        <div class="col-12">
          <nb-card>
            <ngx-time-series [series$]="timeSeries$"></ngx-time-series>
          </nb-card>
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="col-12">
          <ngx-expansive-list
            [title]="'Ranking de Paretto'"
            [items]="parettoRank"
            [isLoading]="!isParettoRankLoaded"
          ></ngx-expansive-list>
        </div>
      </div>
    </div>
  </nb-tab>
  <nb-tab
    *ngIf="nortanTeam"
    [tabTitle]="isPhone() ? '' : nortanTeam.name"
    [tabIcon]="nortanIcon"
    [tabId]="nortanTeam ? nortanTeam._id : ''"
    responsive
  >
    <nb-card fullWidth class="noOverflow">
      <div class="row">
        <div class="col-12 col-md-3">
          <ngx-gauge [value$]="contractsBalance$" name="Nortan"></ngx-gauge>
        </div>
        <div class="col-12 col-md-3">
          <ngx-gauge [value$]="taxesBalance$" name="Impostos"></ngx-gauge>
        </div>
        <div class="col-12 col-md-2" style="text-align: center">
          <h2 style="margin-top: 15px">{{ open$ | async }}</h2>
          <p>Contratos em Aberto</p>
        </div>
        <div class="col-12 col-md-2" style="text-align: center">
          <h2 style="margin-top: 15px">{{ toReceive$ | async }}</h2>
          <p>Contratos a Receber</p>
        </div>
        <a
          style="text-decoration: none; display: contents; cursor: pointer"
          (click)="openDialog(dialogTypes.NORTAN_EXPENSE_TABLE)"
        >
          <div class="col-12 col-md-2" style="text-align: center">
            <h2 style="margin-top: 15px; display: flex; align-items: flex-start; justify-content: center">
              R$ {{ expenses$ | async }}
              <nb-icon
                status="info"
                icon="diagonal-arrow-right-up"
                pack="eva"
                [options]="{ animation: { type: 'pulse' } }"
              ></nb-icon>
            </h2>
            <p>Despesas Administrativas</p>
          </div>
        </a>
      </div>
    </nb-card>
  </nb-tab>
  <nb-tab
    *ngFor="let team of teams"
    [tabTitle]="isPhone() ? '' : team.name"
    [tabIcon]="teamIcon"
    [tabId]="team._id"
    responsive
  >
    <nb-card>
      <div class="row">
        <div class="col-12 col-md-12" style="text-align: center">
          <h2 style="margin-top: 15px; display: flex; align-items: flex-start; justify-content: center">
            R$ {{ team.locals.balance }}
          </h2>
          <p>Caixa do time</p>
        </div>
      </div>
    </nb-card>
  </nb-tab>
</nb-tabset>
<ngx-fab icon="plus">
  <ngx-fab-item
    icon="file-invoice-dollar"
    pack="fac"
    content="Criar orçamento"
    iconTop="-3"
    (clicked)="openDialog(dialogTypes.INVOICE)"
  ></ngx-fab-item>
  <!-- TODO: ADD FUNÇÃO PARA ABRIR A OPÇÃO DE CADASTRO DE FORNECEDOR: (clicked)="openDialog(dialogTypes.)"-->
  <ngx-fab-item
    icon="plus"
    pack="fa"
    content="Cadastro de fornecedor"
  ></ngx-fab-item>
  <ngx-fab-item
    icon="person-add-outline"
    content="Cadastro de cliente"
    iconLeft="1"
    (clicked)="openDialog(dialogTypes.CLIENT)"
  ></ngx-fab-item>
  <!-- TODO: ADD FUNÇÃO PARA ABRIR A OPÇÃO DE TRANSFERÊNCIAS: (clicked)="openDialog(dialogTypes.)"-->
  <ngx-fab-item
    icon="money-bill-transfer"
    content="Transferências"
    pack="fac"
    iconTop="1"
  ></ngx-fab-item>
  <!-- TODO: ADD FUNÇÃO PARA ABRIR A OPÇÃO DE CADASTRO DE FORNECEDOR: (clicked)="openDialog(dialogTypes.)"-->
  <ngx-fab-item
    icon="minus"
    pack="fac"
    content="Transações"
    (clicked)="openDialog(dialogTypes.EXPENSE)"
  ></ngx-fab-item>
  <!-- TODO: ADD FUNÇÃO PARA ABRIR A OPÇÃO DE SAQUE: (clicked)="openDialog(dialogTypes.)"-->
  <ngx-fab-item
    icon="hand-holding-dollar"
    pack="fac"
    content="Saque"
  ></ngx-fab-item>
  <ngx-fab-item
    icon="icon-file-csv"
    iconTop='-3'
    iconLeft='1'
    pack="fac"
    content="Relatórios"
    (clicked)="openDialog(dialogTypes.REPORT_MENU)"
  ></ngx-fab-item>
</ngx-fab>
