<form (ngSubmit)="addContact()" #form="ngForm" aria-labelledby="title">
  <div class="row">
    <div class="col-6">
      <div class="form-control-group">
        <label class="label" for="input-name">Nome:</label>
        <input
          nbInput
          [(ngModel)]="contact.name"
          #name="ngModel"
          id="input-name"
          name="name"
          fullWidth
          fieldSize="large"
          [required]="validation.fullName.required"
          [status]="name.dirty ? (name.invalid ? 'danger' : 'success') : 'basic'"
          [attr.aria-invalid]="name.invalid && name.touched ? true : null"
        />
        <ng-container *ngIf="name.invalid && name.touched">
          <p class="caption status-danger" *ngIf="name.errors?.required">O nome é obrigatório!</p>
        </ng-container>
      </div>
    </div>
    <div class="col-6">
      <div class="form-control-group">
        <label class="label" for="input-position">Cargo:</label>
        <input
          nbInput
          [(ngModel)]="contact.position"
          #position="ngModel"
          id="input-position"
          name="position"
          fullWidth
          fieldSize="large"
          [required]="validation.contact.position.required"
          [status]="position.dirty ? (position.invalid ? 'danger' : 'success') : 'basic'"
          [attr.aria-invalid]="position.invalid && position.touched ? true : null"
        />
      </div>
      <ng-container *ngIf="position.invalid && position.touched">
        <p class="caption status-danger" *ngIf="position.errors?.required">O cargo é obrigatório!</p>
      </ng-container>
    </div>
    <div class="col-6">
      <div class="form-control-group">
        <label class="label" for="input-email">Email:</label>
        <input
          nbInput
          [(ngModel)]="contact.email"
          #email="ngModel"
          id="input-email"
          name="email"
          pattern=".+@.+\..+"
          placeholder="Endereço de email"
          fullWidth
          fieldSize="large"
          [status]="email.dirty ? (email.invalid ? 'danger' : 'success') : 'basic'"
          [required]="validation.email.required"
          [attr.aria-invalid]="email.invalid && email.touched ? true : null"
        />
        <ng-container *ngIf="email.invalid && email.touched">
          <p class="caption status-danger" *ngIf="email.errors?.required">O email é obrigatório!</p>
          <p class="caption status-danger" *ngIf="email.errors?.pattern">Digite um email válido!</p>
        </ng-container>
      </div>
    </div>
    <div class="col-6">
      <div class="form-control-group">
        <label class="label" for="input-phone">Telefone:</label>
        <input
          nbInput
          [(ngModel)]="contact.number"
          #phone="ngModel"
          id="input-phone"
          name="input-phone"
          placeholder="Telefone para contato"
          fullWidth
          fieldSize="large"
          [brmasker]="{ phone: true }"
          ngxSelectAllText
          [required]="validation.phone.required"
          [minlength]="validation.phone.minLength"
          [maxlength]="validation.phone.maxLength"
          [status]="phone.dirty ? (phone.invalid ? 'danger' : 'success') : 'basic'"
          [attr.aria-invalid]="phone.invalid && phone.touched ? true : null"
        />
        <ng-container *ngIf="phone.invalid && phone.touched">
          <p class="caption status-danger" *ngIf="phone.errors?.required">O telefone é obrigatório!</p>
          <p class="caption status-danger" *ngIf="phone.errors?.minlength || phone.errors?.maxlength">
            O telefone deve ter {{ validation.phone.minLength }} ou {{ validation.phone.maxLength }} caracteres
          </p>
        </ng-container>
      </div>
    </div>
  </div>
  <button nbButton fullWidth fieldSize="large" status="primary" [disabled]="!form.valid">ADICIONAR</button>
</form>
